@startuml
  package ui {
    class Consola {
      + main(args[] String)
      + registrarUsuario(sc: Scanner)
      + ingresarComoUsuario(sc: Scanner)
      + registrarContacto(usuario: Usuario, sc: Scanner)
      + verContactos(user: Usuario)
      + verDetallesContacto(user: Usuario, sc: Scanner)
      + verUsuariosDisponiblesSolicitud(sc: Scanner)
      + verSolicitudes(usuario: Usuario)
      + crearSolicitudExportarContacto(solicitante: Usuario, sc: Scanner) 
      + aceptarSolicitud(usuario: Usuario, sc: Scanner)
      + declinarSolicitud(usuario: Usuario, sc: Scanner)
    }

  }

  package contactos {
    class Usuario {
      - nombre : String
      - usuario : String
      - password : byte[]
      - eMail : String

      + registrar()
      + logIn(usuario : String, password : String)
      + registrarContacto(contacto : Contacto) : boolean
      + getContactoByNombre(nombre: String): Contacto
      + getListaContactos():Contacto[]
      + contactoExiste(contacto: Contacto) : boolean
      + agregarSolicitud(solicitud : SolicitudImporte)
      + getSolicitudes():SolicitudImporte[]
      + aceptarSolicitud(solicitante: Usuario)
      + eliminarSolicitud(solicitante: String)
      + getUsuarioByUser(user: String): Usuario
      + respaldarListaUsuarios(): String
      + cargarListaUsuarios(): String
      + respaldarListaContactos(): String
      + cargarListaContactos(): String
      + respaldarListaSolicitudes(): String
      + cargarListaSolicitudes():
    }

    class Contacto {
      - nombre : String
      - telefono : String
      - eMail : String
      - url : String

      + verDetalles() : String
      + respaldarContactos(): String
      + cargarContactos(): String
      + getContactos(usuario: String): Contacto[]
      + agregarContacto(usuario: String, contacto: Contacto):
    }

    class SolicitudImporte {
      - solicitante : String

      + getUsuarioSolicitante(): String
      + respaldarSolicitudes(): String
      + cargarSolicitudes(): String
      + agregarSolicitud(usuario: Usuario, solicitud: SolicitudImporte):
      + getSolicitudes(usuario: String): SolicitudImporte[]
    }

    Usuario  -->  Contacto
    Usuario  -->  SolicitudImporte
  }

  package persistencia {

    class AlmacenUsuarios {
      - usuarios : Usuario[]

      + getUsuarios(): Usuario[]
      + guardarUsuario(usuario : Usuario)
      + respaldarUsuarios(): String
      + cargarUsuarios() : String
    }

    class AlmacenContactos {
      - contactos : Contacto[]

      + agregarContacto(usuario: String, contacto: Contacto)
      + respaldarContactos(): String
      + cargarContactos() : String
      + getContactos(usuario : String): Contacto[]
    }

    class AlmacenSolicitudes {
      - solicitudes : SolicitudImporte[]

      + agregarSolicitud(usuario: String, solicitud : SolicitudImporte)
      + respaldarSolicitudes(): String
      + cargarSolicitudes() : String
      + getSolicitudes(usuario : String): Solicitudes[]
    }

    class Cifrador {
      + hashear(cadena: String): byte[]
      + sonMismoHash(uno: byte[], dos: byte[]): boolean
      + cifrar(password : byte[], dato : String) : String
      + descifrar(password : byte[], datoCifrado : String) : String
    }

    AlmacenUsuarios --> Cifrador
    AlmacenContactos --> Cifrador
    AlmacenSolicitudes --> Cifrador
}

    Consola --> Usuario
    Usuario --> Cifrador
    Usuario --> AlmacenUsuarios
    Contacto --> AlmacenContactos
    SolicitudImporte --> AlmacenSolicitudes
@enduml
